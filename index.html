<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarot AI 🔮 – Hỏi Vũ Trụ, Nhận Câu Trả Lời</title>
    <link rel="stylesheet" href="css/style.css">

    <!-- Font -->
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@400;600&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="container">
        <header>
            <h1>🔮 Tarot AI</h1>
            <button id="sound-toggle">🔈</button>
        </header>

        <main>
            <h2>Hỏi Vũ Trụ, Nhận Câu Trả Lời 🌌</h2>
            <p>Hãy nhập câu hỏi bạn muốn gửi đến các vì sao...</p>

            <textarea type="text" id="user-question"
                placeholder="VD: Tôi có nên tiếp tục tình yêu này không?"></textarea>

            <button id="draw-btn" onclick="goToDraw()">RÚT 3 LÁ BÀI 🔮</button>
        </main>

        <footer>
            <p>✨ “Mỗi lá bài là tiếng nói của tiềm thức.” ✨</p>
        </footer>
    </div>

    <!-- Âm thanh nền -->
    <audio id="bg-music" loop>
        <source src="assets/audio/bg.mp3" type="audio/mpeg">
    </audio>

    <script>
        const textarea = document.getElementById('user-question');
        const btnDraw = document.getElementById('draw-btn');

        // Ban đầu disable nút
        btnDraw.disabled = true;

        // Theo dõi khi người dùng nhập
        textarea.addEventListener('input', () => {
            const value = textarea.value.trim();
            btnDraw.disabled = value === "";
        });

        // Khi bấm nút, chỉ chạy nếu có nội dung
        function goToDraw() {
            const question = textarea.value.trim();
            if (!question) return;
            localStorage.setItem('tarotQuestion', question);
            location.href = 'draw.html';
        }
    </script>
    <script src="js/sound.js"></script>
</body>

</html>